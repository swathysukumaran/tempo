const {
  GoogleGenerativeAI,
  HarmCategory,
  HarmBlockThreshold,
} = require("@google/generative-ai");
require('dotenv').config({ path: '.env.local' });
const apiKey = process.env.GEMINI_API_KEY;

const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash-exp",
});



  export const chatSession = model.startChat({
   
    history: [
      {
        role: "user",
        parts: [
          {text: "Generate travel plan for location: Las vegas for 3 days for couple with cheap budget, give me hotel options list with hotel name,hotel address,price,hotel image url,geo coordinates, rating,descriptions and suggest itinary with place name,place details, place image url,geo coordinates,ticket pricing,rating,time travel for each of the locations for 3 days with each day plan with best time to visit in json format"},
        ],
      },
      {
        role: "model",
        parts: [
          {text: "Okay, here's a budget-friendly 3-day Las Vegas itinerary for a couple, along with hotel options and details, all in JSON format. I've focused on free or low-cost activities and affordable accommodations.\n\n```json\n{\n  \"trip_name\": \"Budget Las Vegas Getaway for Couples\",\n  \"duration\": \"3 Days\",\n    \"travelers\": \"2 Adults\",\n    \"budget_notes\": \"This itinerary focuses on free or low-cost activities and affordable hotels. Prices are estimates and may vary.\",\n  \"hotels\": [\n    {\n      \"hotel_name\": \"Circus Circus Hotel\",\n      \"hotel_address\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $80 per night\",\n      \"hotel_image_url\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/23/3c/00/8a/circus-circus-hotel-casino.jpg?w=1200&h=-1&s=1\",\n      \"geo_coordinates\": {\n        \"latitude\": 36.1283,\n        \"longitude\": -115.1686\n      },\n      \"rating\": 3.5,\n       \"description\": \"A classic Las Vegas hotel with a circus theme, offering affordable rooms and family-friendly entertainment. Features include free circus acts, a pool, and several dining options.\"\n    },\n    {\n      \"hotel_name\": \"Excalibur Hotel & Casino\",\n      \"hotel_address\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$50 - $90 per night\",\n      \"hotel_image_url\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/21/5a/26/f4/excalibur-hotel-casino.jpg?w=1200&h=-1&s=1\",\n       \"geo_coordinates\": {\n        \"latitude\": 36.0983,\n        \"longitude\": -115.1744\n        },\n       \"rating\": 3.7,\n       \"description\": \"A medieval-themed hotel on the Las Vegas Strip with affordable rooms, a pool area, and several restaurants. Known for its fun atmosphere and family-friendly shows.\"\n    },\n    {\n     \"hotel_name\": \"Strat Hotel, Casino & Tower\",\n      \"hotel_address\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": \"$60 - $100 per night\",\n      \"hotel_image_url\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/22/35/d7/41/the-strat-hotel-casino.jpg?w=1200&h=-1&s=1\",\n       \"geo_coordinates\": {\n        \"latitude\": 36.1460,\n        \"longitude\": -115.1557\n        },\n      \"rating\": 3.9,\n      \"description\": \"Features the tallest freestanding observation tower in the United States, offering incredible views.  Rooms are affordable and there are dining and entertainment options.\"\n    }\n  ],\n \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip & Free Shows\",\n      \"best_time_to_visit\": \"Late afternoon/evening for shows and cooler temperatures\",\n      \"activities\": [\n        {\n           \"place_name\": \"Bellagio Conservatory & Botanical Garden\",\n          \"place_details\": \"Beautiful indoor garden that changes seasonally with intricate displays. Free to visit.\",\n          \"place_image_url\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/23/3e/13/1d/bellagio-conservatory-botanical.jpg?w=1200&h=-1&s=1\",\n           \"geo_coordinates\": {\n               \"latitude\": 36.1127,\n              \"longitude\": -115.1743\n             },\n          \"ticket_pricing\": \"Free\",\n          \"rating\": 4.7,\n          \"travel_time\": \"Varies based on hotel location; typically walking distance on the Strip\"\n        },\n        {\n          \"place_name\": \"Fountains of Bellagio\",\n          \"place_details\": \"Iconic free water show set to music, spectacular at night. Showtimes vary, check schedule.\",\n          \"place_image_url\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/23/3c/01/e9/fountains-of-bellagio.jpg?w=1200&h=-1&s=1\",\n          \"geo_coordinates\": {\n               \"latitude\": 36.1127,\n              \"longitude\": -115.1743\n            },\n          \"ticket_pricing\": \"Free\",\n          \"rating\": 4.8,\n          \"travel_time\": \"Adjacent to the Bellagio Conservatory\"\n        },\n        {\n          \"place_name\": \"The Mirage Volcano\",\n          \"place_details\": \"Free fiery volcano eruption show with lights and sound, located outside the Mirage hotel.\",\n           \"place_image_url\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/23/40/1f/01/volcano-show-at-mirage.jpg?w=1200&h=-1&s=1\",\n           \"geo_coordinates\": {\n               \"latitude\": 36.1201,\n              \"longitude\": -115.1742\n            },\n           \"ticket_pricing\": \"Free\",\n          \"rating\": 4.6,\n           \"travel_time\": \"Short walk from Bellagio\"\n        },\n         {\n          \"place_name\": \"Walk the Las Vegas Strip\",\n          \"place_details\": \"Explore the iconic Las Vegas Strip and take photos, see the amazing architecture and experience the vibrant atmosphere\",\n          \"place_image_url\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/27/4b/62/b1/las-vegas-strip.jpg?w=1200&h=-1&s=1\",\n           \"geo_coordinates\": {\n               \"latitude\": 36.1055,\n              \"longitude\": -115.1707\n            },\n          \"ticket_pricing\": \"Free\",\n          \"rating\": 4.5,\n           \"travel_time\": \"Can be accessed from any strip hotel\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown Las Vegas & Off-Strip Fun\",\n      \"best_time_to_visit\": \"Afternoon/evening for Fremont Street Experience\",\n      \"activities\": [\n        {\n         \"place_name\": \"Fremont Street Experience\",\n          \"place_details\": \"Pedestrian mall with a massive video screen canopy, light shows, and street performers.  Located in downtown Las Vegas.\",\n          \"place_image_url\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/27/41/c3/06/fremont-street-experience.jpg?w=1200&h=-1&s=1\",\n            \"geo_coordinates\": {\n               \"latitude\": 36.1701,\n              \"longitude\": -115.1414\n            },\n         \"ticket_pricing\": \"Free to walk around, activities may have costs\",\n          \"rating\": 4.5,\n          \"travel_time\": \"Ride sharing from the strip approx 15-20 minutes\"\n        },\n           {\n          \"place_name\": \"Downtown Container Park\",\n            \"place_details\": \"Unique open-air shopping, dining, and entertainment venue built from shipping containers. Features play area, art installations, and live music.\",\n            \"place_image_url\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/23/e4/88/93/container-park.jpg?w=1200&h=-1&s=1\",\n            \"geo_coordinates\": {\n               \"latitude\": 36.1664,\n              \"longitude\": -115.1436\n             },\n          \"ticket_pricing\":\"Free to enter, costs for dining and shops\",\n          \"rating\":4.4,\n          \"travel_time\":\"Walking distance from Fremont Street\"\n          },\n        {\n          \"place_name\": \"Gold and Silver Pawn Shop\",\n          \"place_details\": \"Famous pawn shop from the reality TV show 'Pawn Stars'. Visit and browse the merchandise.\",\n            \"place_image_url\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/26/7f/79/08/gold-and-silver-pawn.jpg?w=1200&h=-1&s=1\",\n              \"geo_coordinates\": {\n               \"latitude\": 36.1656,\n              \"longitude\": -115.1486\n            },\n          \"ticket_pricing\": \"Free\",\n          \"rating\": 4.0,\n          \"travel_time\": \"Approx 5 min ride sharing from downtown or Fremont st\"\n        },\n         {\n           \"place_name\": \"M&M's World\",\n          \"place_details\": \"A colorful and interactive M&M's store with four levels of M&M's merchandise and photo opportunities.\",\n          \"place_image_url\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/27/1f/84/ae/m-ms-world.jpg?w=1200&h=-1&s=1\",\n           \"geo_coordinates\": {\n               \"latitude\": 36.1042,\n              \"longitude\": -115.1733\n            },\n         \"ticket_pricing\":\"Free to enter, costs for merchandise\",\n           \"rating\": 4.2,\n           \"travel_time\": \"Ride sharing from pawn shop area approx 15 minutes\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"Relaxation & Departure\",\n      \"best_time_to_visit\": \"Morning\",\n      \"activities\": [\n         {\n          \"place_name\": \"Pool Time or Hotel Amenities\",\n          \"place_details\": \"Enjoy your hotel's pool or other available amenities. Relax and recharge before your departure.\",\n          \"place_image_url\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1d/52/e2/4b/excalibur-pool.jpg?w=1200&h=-1&s=1\",\n           \"geo_coordinates\": {\n               \"latitude\": 36.0983,\n              \"longitude\": -115.1744\n            },\n          \"ticket_pricing\": \"Free for hotel guests\",\n           \"rating\": 4.0,\n           \"travel_time\": \"Located at your hotel\"\n         },\n           {\n          \"place_name\": \"Ethel M Chocolate Factory\",\n          \"place_details\": \"Take a self-guided tour and tasting at the Ethel M Chocolate Factory, located a short distance from the strip, also has a cactus garden.\",\n          \"place_image_url\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/27/b0/32/ff/ethel-m-chocolate-factory.jpg?w=1200&h=-1&s=1\",\n            \"geo_coordinates\": {\n               \"latitude\": 36.0820,\n              \"longitude\": -115.0510\n            },\n          \"ticket_pricing\":\"Free to walk around, cost for tours and chocolates\",\n           \"rating\": 4.4,\n            \"travel_time\": \"Ride sharing from strip approx 20 minutes\"\n         },\n\n        {\n          \"place_name\":\"Depart From Las Vegas\",\n          \"place_details\":\"Head to the airport or your next destination.\",\n          \"place_image_url\":\"https://content.r9cdn.net/rimg/himg/d7/09/ef/leonardo-203789127-20844099_179315-airport_3-0940.jpg?width=1200&height=630&crop=true\",\n           \"geo_coordinates\": {\n               \"latitude\": 36.0840,\n              \"longitude\": -115.1537\n            },\n           \"ticket_pricing\":\"N/A\",\n           \"rating\":\"N/A\",\n           \"travel_time\":\"Varies on your location in the city\"\n           }\n      ]\n    }\n  }\n}\n```\n**Notes:**\n\n*   **Prices:** Hotel prices are estimates and can change based on the season and day of the week.\n*   **Transportation:** I've assumed the use of ride-sharing (like Uber or Lyft) where needed to travel efficiently and keep the budget down. Walking is highly encouraged on the Strip.\n*   **Food:** This itinerary doesn't include specific dining recommendations. For budget dining, look for food courts, affordable buffets, and casual eateries.\n*   **Flexibility:** Feel free to adjust the itinerary based on your preferences.\n*   **Free Activities:** Many things in Las Vegas are free: exploring hotels, watching shows, etc. Take advantage of that!\n\nLet me know if you'd like any modifications or more specific details.\n"},
        ],
      },
    ],
  });

 


